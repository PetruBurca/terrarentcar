<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Language Debug</title>
  </head>
  <body>
    <h1>Language Debug</h1>
    <div id="debug"></div>

    <button onclick="setLanguage('ru')">Set Russian</button>
    <button onclick="setLanguage('en')">Set English</button>
    <button onclick="setLanguage('ro')">Set Romanian</button>
    <button onclick="clearLanguage()">Clear Language</button>

    <script>
      function setLanguage(lang) {
        localStorage.setItem("app-language", lang);
        updateDebug();
      }

      function clearLanguage() {
        localStorage.removeItem("app-language");
        updateDebug();
      }

      function updateDebug() {
        const currentLang = localStorage.getItem("app-language") || "ro";
        document.getElementById("debug").innerHTML = `
                <p><strong>Current language:</strong> ${currentLang}</p>
                <p><strong>All localStorage keys:</strong></p>
                <ul>
                    ${Object.keys(localStorage)
                      .map(
                        (key) => `<li>${key}: ${localStorage.getItem(key)}</li>`
                      )
                      .join("")}
                </ul>
            `;
      }

      // Update on page load
      updateDebug();

      // Update when localStorage changes
      window.addEventListener("storage", updateDebug);
    </script>
  </body>
</html>
