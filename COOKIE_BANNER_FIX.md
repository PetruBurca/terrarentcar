# üç™ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –±–∞–Ω–Ω–µ—Ä–∞ –∫—É–∫–∏

## üö® –ü—Ä–æ–±–ª–µ–º–∞:

–ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞ –±–∞–Ω–Ω–µ—Ä –∫—É–∫–∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ—è–≤–ª—è–ª—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã–ª —Å–Ω–æ–≤–∞ –ø—Ä–∏–Ω—è—Ç—å –∫—É–∫–∏.

## üîç –ü—Ä–∏—á–∏–Ω–∞:

- CacheManager –æ—á–∏—â–∞–ª localStorage, –Ω–æ –Ω–µ —É–¥–∞–ª—è–ª –∫–ª—é—á `cookieAccepted`
- CookieBanner –ø—Ä–æ–≤–µ—Ä—è–ª —Ç–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –ù–µ –±—ã–ª–æ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ localStorage

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### 1. **–û–±–Ω–æ–≤–ª–µ–Ω CacheManager**

```typescript
// –î–æ–±–∞–≤–ª–µ–Ω –∫–ª—é—á –∫—É–∫–∏ –≤ —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
const oldKeysToRemove = [
  "reservation-form",
  "search-dates",
  "reservation-step",
  "uploaded-photos",
  "privacy-accepted",
  "wizard-data",
  "selected-country-code",
  "active-image-index",
  "selected-car-id",
  "cookieAccepted", // ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
];

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–ª—é—á–∞ –∫—É–∫–∏
localStorage.removeItem("cookieAccepted");
```

### 2. **–£–ª—É—á—à–µ–Ω CookieBanner**

```typescript
useEffect(() => {
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
  if (!localStorage.getItem("cookieAccepted")) {
    setVisible(true);
  }

  // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ localStorage
  const handleStorageChange = (e: StorageEvent) => {
    if (e.key === "cookieAccepted" && e.newValue === null) {
      // –ï—Å–ª–∏ –∫–ª—é—á –∫—É–∫–∏ –±—ã–ª —É–¥–∞–ª–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –±–∞–Ω–Ω–µ—Ä
      setVisible(true);
    }
  };

  window.addEventListener("storage", handleStorageChange);
  return () => window.removeEventListener("storage", handleStorageChange);
}, []);
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

### ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**

- –ü—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –∫—ç—à–∞ (Cmd+Shift+R) –±–∞–Ω–Ω–µ—Ä –∫—É–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–Ω–æ–≤–∞
- –ü—Ä–∏ –¥–≤–æ–π–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∞–Ω–Ω–µ—Ä –∫—É–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–Ω–æ–≤–∞
- –ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–µ —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç –±–∞–Ω–Ω–µ—Ä –∫—É–∫–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–Ω–æ–≤–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫—É–∫–∏ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### üîÑ **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫—É–∫–∏** ‚Üí `cookieAccepted = "true"`
2. **–ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞** ‚Üí `cookieAccepted` —É–¥–∞–ª—è–µ—Ç—Å—è
3. **CookieBanner –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä —Å–Ω–æ–≤–∞
4. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–Ω–æ–≤–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∫—É–∫–∏** ‚Üí —Ü–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è

## üìã –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### 1. **–ñ–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (Cmd+Shift+R)**

- –û—á–∏—â–∞–µ—Ç –∫—ç—à
- –£–¥–∞–ª—è–µ—Ç `cookieAccepted`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä –∫—É–∫–∏

### 2. **–î–≤–æ–π–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (F5 + F5)**

- –û—á–∏—â–∞–µ—Ç –∫—ç—à
- –£–¥–∞–ª—è–µ—Ç `cookieAccepted`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä –∫—É–∫–∏

### 3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ (5 –º–∏–Ω—É—Ç)**

- –û—á–∏—â–∞–µ—Ç –∫—ç—à –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –£–¥–∞–ª—è–µ—Ç `cookieAccepted`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä –∫—É–∫–∏

### 4. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞**

```javascript
window.cacheManager.forceClear();
```

- –û—á–∏—â–∞–µ—Ç –≤—Å–µ –∫—ç—à–∏
- –£–¥–∞–ª—è–µ—Ç `cookieAccepted`
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–∞–Ω–Ω–µ—Ä –∫—É–∫–∏

## üéâ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ GDPR** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –æ –∫—É–∫–∏
2. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π UX** - –±–∞–Ω–Ω–µ—Ä –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –ª—é–±–æ–º —Ç–∏–ø–µ –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞
4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞

## üîß –û—Ç–ª–∞–¥–∫–∞:

–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫—É–∫–∏
localStorage.getItem("cookieAccepted");

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –∫—É–∫–∏
localStorage.removeItem("cookieAccepted");

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∫–ª—é—á–∏ –∫—ç—à–∞
window.cacheManager.checkCache();
```

–¢–µ–ø–µ—Ä—å –±–∞–Ω–Ω–µ—Ä –∫—É–∫–∏ –±—É–¥–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ—è–≤–ª—è—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞! üç™‚ú®
