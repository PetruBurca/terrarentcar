<!DOCTYPE html>
<html>
  <head>
    <title>Test Airtable Connection</title>
  </head>
  <body>
    <h1>Test Airtable Connection</h1>
    <div id="result"></div>

    <script>
      // Замените эти значения на ваши
      const BASE_ID = "YOUR_BASE_ID_HERE";
      const TOKEN = "YOUR_TOKEN_HERE";
      const TABLE_NAME = "Автомобили (Cars)";

      async function testAirtable() {
        const resultDiv = document.getElementById("result");

        try {
          const response = await fetch(
            `https://api.airtable.com/v0/${BASE_ID}/${TABLE_NAME}?maxRecords=1`,
            {
              headers: {
                Authorization: `Bearer ${TOKEN}`,
                "Content-Type": "application/json",
              },
            }
          );

          if (response.ok) {
            const data = await response.json();
            resultDiv.innerHTML = `
                        <p style="color: green;">✅ Успешно подключено к Airtable!</p>
                        <p>Найдено записей: ${data.records.length}</p>
                        <p>Base ID: ${BASE_ID}</p>
                        <p>Token: ${TOKEN.substring(0, 10)}...</p>
                    `;
          } else {
            resultDiv.innerHTML = `
                        <p style="color: red;">❌ Ошибка: ${response.status} ${response.statusText}</p>
                        <p>Проверьте Base ID и Token</p>
                    `;
          }
        } catch (error) {
          resultDiv.innerHTML = `
                    <p style="color: red;">❌ Ошибка подключения: ${error.message}</p>
                `;
        }
      }

      // Запустить тест при загрузке страницы
      testAirtable();
    </script>
  </body>
</html>
